# STUN/TURN Server Configuration

# Listening IP address
listening-ip=0.0.0.0

# External IP address (will be the Docker container's IP)
# This should be set to your server's public IP in production
# external-ip=YOUR_PUBLIC_IP

# STUN and TURN ports
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=65535

# Enable verbose logging
verbose
log-file=/var/log/turnserver.log

# Realm for TURN server authentication
realm=turn.example.com

# Server name
server-name=coturn

# Use fingerprints in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Static user credentials (username:password)
# In production, use database authentication
user=turnuser:turnpassword

# Allow STUN requests
stun-only=false

# Enable TURN functionality
no-stun=false

# Allow both TCP and UDP
no-tcp-relay
no-udp-relay

# Enable stats
web-admin
web-admin-ip=0.0.0.0
web-admin-port=8080

# Deny access to private IP ranges (security)
no-multicast-peers
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=172.16.0.0-172.31.255.255

# Enable TURN REST API for time-limited credentials
# use-auth-secret
# static-auth-secret=MY_SECRET_KEY

# Mobility support
mobility

# Allow older TLS versions (for compatibility)
no-tlsv1
no-tlsv1_1

# Enable prometheus metrics
prometheus

# Disable TURN functionality for certain IPs (optional)
# no-tcp
# no-udp

# Enable CLI
cli-ip=127.0.0.1
cli-port=5766
cli-password=turnpassword
